# ğŸŒŠ SeeSea (ì”¨ì”¨)
> ### ì„œí¼ë¥¼ ìœ„í•œ ì‹¤ì‹œê°„ íŒŒë„ ì˜ˆë³´ & ì›¹ìº  ì•±

<a href="https://apps.apple.com/kr/app/seesea/id6711330853" target="_blank">
  <img width="130" alt="appstore" src="https://user-images.githubusercontent.com/55099365/196023806-5eb7be0f-c7cf-4661-bb39-35a15146c33a.png">
</a>

<br />

## ğŸ“± í”„ë¡œì íŠ¸ ì†Œê°œ
> **ê°œë°œ ê¸°ê°„** : 2024. 9. 13 (ê¸ˆ) ~ 2024. 10. 3 (ëª©)<br />
> **ê°œë°œ ì¸ì›** : 1ì¸ (ê¸°íš/ë””ìì¸/ê°œë°œ)

<br />

<div align="center">
  <img width="16%" src="https://github.com/user-attachments/assets/4981e5de-f8c4-4318-9644-d07a70180cf1" />
  <img width="16%" src="https://github.com/user-attachments/assets/9bb63bc3-00b8-4fae-9b24-3ce3162e72be" />
  <img width="16%" src="https://github.com/user-attachments/assets/822f0431-3540-4f41-b579-cf417757df0f" />
  <img width="16%" src="https://github.com/user-attachments/assets/db414272-b1f4-4f31-8445-8d82facce2a7" />
  <img width="16%" src="https://github.com/user-attachments/assets/662acaca-322e-4975-901a-a5fc260e1b08" />
  <img width="16%" src="https://github.com/user-attachments/assets/8f213ccc-f4f8-41f5-92ba-23a9a1918b4b" />
</div>

<br /><br />

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ
### iOS
- **Language**: Swift 5.10
- **Framework**: SwiftUI
- **Minimum Target**: iOS 17.0

### ì•„í‚¤í…ì²˜ & ë””ìì¸ íŒ¨í„´
- **Architecture**: MVVM
- **Design Pattern**: Repository Pattern

### ë°ì´í„°ë² ì´ìŠ¤ & ë„¤íŠ¸ì›Œí‚¹
- **Local Database**: Realm
- **Network**: URLSession

### ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬
- **Media**: YouTubePlayerKit

### ê°œë°œ í™˜ê²½
- **IDE**: Xcode 15.3

<br />

## ğŸ“‹ ì£¼ìš” ê¸°ëŠ¥
### Open API ê¸°ë°˜ ì‹¤ì‹œê°„ íŒŒë„ ì˜ˆë³´ ì‹œìŠ¤í…œ êµ¬í˜„
-  ê¸°ìƒì²­ APIì™€ URLSessionì„ í™œìš©í•œ ë¹„ë™ê¸° ë„¤íŠ¸ì›Œí¬ í†µì‹ ìœ¼ë¡œ ì‹¤ì‹œê°„ í•´ì–‘ ë°ì´í„° fetching
-  APIEndPoint enumê³¼ Result typeì„ í™œìš©í•œ type-safe ë„¤íŠ¸ì›Œí‚¹ ë ˆì´ì–´ êµ¬í˜„
-  Published í”„ë¡œí¼í‹°ì™€ ObservableObjectë¥¼ í™œìš©í•œ ì‹¤ì‹œê°„ ë°ì´í„° ë°”ì¸ë”© ë° UI ì—…ë°ì´íŠ¸

### ë©€í‹° í¬ë§· ì›¹ìº  ìŠ¤íŠ¸ë¦¬ë° ì§€ì›
- WKWebViewì™€ YouTubePlayerKitì„ í™œìš©í•œ ì´ë¯¸ì§€/ë¹„ë””ì˜¤/ìœ íŠœë¸Œ ìŠ¤íŠ¸ë¦¬ë° êµ¬í˜„
- URL íŒ¨í„´ ë§¤ì¹­ì„ í†µí•œ ìë™ í¬ë§· ê°ì§€ ë° ì ì ˆí•œ ë·° ì»´í¬ë„ŒíŠ¸ ì „í™˜
- ì£¼ê¸°ì  ë°ì´í„° ë¦¬í”„ë ˆì‹œì™€ ì• ë‹ˆë©”ì´ì…˜ ì²˜ë¦¬ë¡œ ëŠê¹€ì—†ëŠ” ì‹¤ì‹œê°„ ì˜ìƒ ì œê³µ

### MapKit ê¸°ë°˜ ìœ„ì¹˜ íŠ¸ë˜í‚¹ ì„œë¹„ìŠ¤
- CoreLocationê³¼ MapKit í”„ë ˆì„ì›Œí¬ë¥¼ í™œìš©í•œ ì‹¤ì‹œê°„ ìœ„ì¹˜ íŠ¸ë˜í‚¹
- MKCoordinateRegionê³¼ MapCameraPositionì„ í™œìš©í•œ ì§€ë„ ë·° ì»¨íŠ¸ë¡¤
- MapAnnotationì„ í™œìš©í•œ ì»¤ìŠ¤í…€ ë§ˆì»¤ ë° ì‹¤ì‹œê°„ íŒŒê³  ì •ë³´ êµ¬í˜„

### Realm ê¸°ë°˜ ë¡œì»¬ ë°ì´í„° ê´€ë¦¬ ì‹œìŠ¤í…œ
- Repository Patternì„ í™œìš©í•œ ë°ì´í„° ì ‘ê·¼ ê³„ì¸µ ì¶”ìƒí™”
- Protocol ê¸°ë°˜ ì˜ì¡´ì„± ì£¼ì…ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ìš©ì´ì„± í™•ë³´
- Realm DBë¥¼ í™œìš©í•œ ì¦ê²¨ì°¾ê¸° ë° ë‹¤ì´ì–´ë¦¬ ë°ì´í„°ì˜ CRUD ì‘ì—… êµ¬í˜„

<br />


## ğŸ”§ ì‹œí–‰ì°©ì˜¤
### 1. ë©€í‹° ì—”ë“œí¬ì¸íŠ¸ ë°ì´í„° ë™ê¸°í™” ìµœì í™”
#### ë¬¸ì œ
- íŒŒê³ /ìˆ˜ì˜¨/ì˜ˆë³´ ë°ì´í„°ë¥¼ ê°ê° ë³„ë„ APIë¡œ í˜¸ì¶œí•˜ì—¬ ë°œìƒí•˜ëŠ” **ì„±ëŠ¥ ì´ìŠˆ**ë¡œ ì¸í•´ ë¹„ë™ê¸° ë°ì´í„°ì˜ ìƒíƒœ ê´€ë¦¬ì™€ UI ì—…ë°ì´íŠ¸ ì‹œ Race Condition ë°œìƒ

#### í•´ê²°
```swift
// Swift Concurrencyì˜ TaskGroupì„ í™œìš©í•œ ë™ì‹œì„± ì œì–´
func fetchBeachData() async throws -> BeachData {
    try await withThrowingTaskGroup(of: APIResponse.self) { group in
        group.addTask { await fetchWaveHeight() }
        group.addTask { await fetchWaterTemperature() }
        group.addTask { await fetchForecast() }
        
        return try await group.reduce(into: BeachData()) { result, response in
            result.update(with: response)
        }
    }
}
```
    
### 2. WKWebView ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë° ì„±ëŠ¥ ìµœì í™”
#### ë¬¸ì œ
- ë‹¤ìˆ˜ì˜ ì›¹ìº  ìŠ¤íŠ¸ë¦¼ ë™ì‹œ ë¡œë“œ ì‹œ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ê¸‰ì¦
- WKWebView ì¬ì‚¬ìš© ì‹œ ë°œìƒí•˜ëŠ” ë¦¬ì†ŒìŠ¤ ëˆ„ìˆ˜
#### í•´ê²°
```swift
final class WebViewManager {
    private var webViewPool: [String: WeakWebView] = [:]
    
    func dequeueWebView(for url: URL) -> WKWebView {
        cleanUnusedViews()
        if let weakView = webViewPool[url.absoluteString],
           let view = weakView.view {
            return view
        }
        let view = configureNewWebView()
        webViewPool[url.absoluteString] = WeakWebView(view: view)
        return view
    }
    
    private func configureNewWebView() -> WKWebView {
        let config = WKWebViewConfiguration()
        config.allowsInlineMediaPlayback = true
        config.mediaTypesRequiringUserActionForPlayback = []
        return WKWebView(frame: .zero, configuration: config)
    }
```

### 3. Realm ë°ì´í„° ë™ê¸°í™”
#### ë¬¸ì œ
- Realm ê°ì²´ ì—…ë°ì´íŠ¸ ì‹œ SwiftUI View ê°±ì‹  ëˆ„ë½
- ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œì—ì„œ UI ì—…ë°ì´íŠ¸ ì‹œë„ë¡œ ì¸í•œ í¬ë˜ì‹œ
#### í•´ê²°
```swift
class BeachViewModel: ObservableObject {
    private var notificationTokens: [NotificationToken] = []
    
    func observeRealmChanges() {
        let token = realm.objects(Beach.self).observe { [weak self] changes in
            DispatchQueue.main.async {
                self?.objectWillChange.send()
            }
        }
        notificationTokens.append(token)
    }
}

```
<br />

## ğŸ“ íšŒê³ 
### ì˜í•œ ì 
#### 1. ëª¨ë“ˆí™”ëœ ì•„í‚¤í…ì²˜ ì„¤ê³„
```swift
protocol DataBase {
    func read<T: Object>(_ object: T.Type) -> Results<T>
    func write<T: Object>(_ object: T)
    func delete<T: Object>(_ object: T)
}

protocol NetworkService {
    func fetch<T: Decodable>(endpoint: APIEndPoint) async throws -> T
}
```
- Protocolì„ í™œìš©í•´ ëª¨ë“ˆ ê°„ ê²°í•©ë„ ìµœì†Œí™”
- Repository Patternì„ í†µí•œ ë°ì´í„° ì ‘ê·¼ ê³„ì¸µ ì¼ì›í™”

### ì•„ì‰¬ìš´ ì 
#### 1. í…ŒìŠ¤íŠ¸ ì½”ë“œ ë¶€ì¬
```swift
// í…ŒìŠ¤íŠ¸ë¥¼ ê³ ë ¤í•œ ì˜ì¡´ì„± ì£¼ì… í•„ìš”
class BeachViewModel {
    private let networkService: NetworkService
    private let database: DataBase
    
    init(
        networkService: NetworkService = LiveNetworkService(),
        database: DataBase = RealmDatabase()
    ) {
        self.networkService = networkService
        self.database = database
    }
}
```
- Unit Test ë° UI Test ì½”ë“œ ë¯¸êµ¬í˜„
- Mock ê°ì²´ë¥¼ í™œìš©í•œ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ ë¶€ì¬

#### 2. ì—ëŸ¬ ì²˜ë¦¬ ì²´ê³„ ë¯¸í¡
```swift
// ì²´ê³„ì ì¸ ì—ëŸ¬ íƒ€ì… ì •ì˜ í•„ìš”
enum AppError: Error {
    case network(NetworkError)
    case database(DatabaseError)
    case validation(ValidationError)
    
    var localizedDescription: String {
        // ì‚¬ìš©ì ì¹œí™”ì ì¸ ì—ëŸ¬ ë©”ì‹œì§€
    }
}
```
- // ì²´ê³„ì ì¸ ì—ëŸ¬ íƒ€ì… ì •ì˜ í•„ìš”
- í†µí•©ëœ ì—ëŸ¬ ì²˜ë¦¬ ì‹œìŠ¤í…œ ë¶€ì¬

### ì‹œë„í•  ì 
#### 1. CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•
#### 2.ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ ë„ì…
#### 3. ì½”ë“œ í’ˆì§ˆ ê´€ë¦¬ ë„ì…
